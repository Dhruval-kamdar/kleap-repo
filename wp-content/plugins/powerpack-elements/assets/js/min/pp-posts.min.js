!function(g){var v=!0,y=1,i="",w=0;var t=function(o,s){var e,i,a,p,t,n,d=o.find(".pp-posts-container"),r=o.find(".pp-posts-grid"),l=o.find(".pp-posts").data("layout"),c=o.find(".pp-post-filters-container").data("search-form"),f=o.find(".pp-search-form-input"),m=o.find(".pp-post-filters-container").data("search-action"),u=o.find(".pp-posts-loader");function h(){var t=elementorFrontend.config.breakpoints,p=0,e="auto";o.find(".pp-post-wrap").each(function(){s(this).find(".pp-post-content").outerHeight()>p&&(p=s(this).find(".pp-post-content").outerHeight())}),s(window).width()>=t.md&&(e=p),o.find(".pp-post-wrap").css("height",e)}"masonry"==l&&o.imagesLoaded(function(t){r.isotope({layoutMode:l,itemSelector:".pp-grid-item-wrap"})}),_(o,1),o.find(".pp-post-filter").off("click").on("click",function(){s(this).siblings().removeClass("pp-filter-current"),s(this).addClass("pp-filter-current"),y=1,k(o,s(this))}),"show"==c&&(f.on({focus:function(){o.find(".pp-search-form").addClass("pp-search-form-focus")},blur:function(){o.find(".pp-search-form").removeClass("pp-search-form-focus")}}),"instant"==m?o.find(".pp-search-form-input").keyup((e=function(){$(o,s(this))},i=i||100,function(){clearTimeout(a);var t=arguments,p=this;a=setTimeout(function(){e.apply(p,t)},i)})):"button-click"==m&&o.find(".pp-search-form-submit").on("click",function(){$(o,s(this))})),d.find(".pp-posts").hasClass("pp-posts-skin-checkerboard")&&o.hasClass("pp-equal-height-yes")&&d.find(".pp-posts").hasClass("pp-posts-height-auto")&&(s(h),s(window).resize(h)),d.hasClass("pp-posts-infinite-scroll")&&(p=jQuery(window).outerHeight()/1.25,s(window).scroll(function(){return elementorFrontend.isEditMode()?(u.show(),!1):void(s(window).scrollTop()+p>=o.find(".pp-post:last").offset().top&&(t={page_id:o.find(".pp-posts-grid").data("page"),widget_id:o.data("id"),filter:o.find(".pp-filter-current").data("filter"),taxonomy:o.find(".pp-filter-current").data("taxonomy"),skin:o.find(".pp-posts-grid").data("skin"),page_number:o.find(".pp-posts-pagination .current").next("a").html()},w=o.find(".pp-posts-pagination-wrap").data("total"),1==v&&y<w&&(u.show(),b(o,t,!0),y++,v=!1)));var t})),"carousel"==l&&(t=o.find(".pp-posts-carousel").eq(0),n=JSON.parse(t.attr("data-slider-settings")),0<t.length&&o.imagesLoaded(function(){t.slick(n)}),s(t).on("setPosition",function(){var t,p,e;"yes"==(e=o.find(".pp-posts-carousel")).data("equal-height")&&(e.find(".slick-slide").height("auto"),t=e.find(".slick-track"),p=g(t).height(),e.find(".slick-slide").css("height",p+"px"))}))};function _(t,p){t.find(".pp-post-load-more").attr("data-count",p)}g(document).on("click",".pp-post-load-more",function(t){if($scope=g(this).closest(".elementor-widget-pp-posts"),i=$scope.find(".pp-posts-loader"),t.preventDefault(),elementorFrontend.isEditMode())return i.show(),!1;var p=$scope.find(".pp-post-load-more").data("count"),e=$scope.find(".pp-filter-current").data("filter"),o=$scope.find(".pp-filter-current").data("taxonomy"),s={page_id:$scope.find(".pp-posts-grid").data("page"),widget_id:$scope.data("id"),filter:e||"",taxonomy:o||"",skin:$scope.find(".pp-posts-grid").data("skin"),page_number:p+1};w=$scope.find(".pp-posts-pagination-wrap").data("total"),1==v&&p<w&&(i.show(),g(this).hide(),b($scope,s,!0,p),p++,v=!1)}),g("body").delegate(".pp-posts-pagination-ajax .page-numbers","click",function(t){var p,e,o;$scope=g(this).closest(".elementor-widget-pp-posts"),"main"!=$scope.find(".pp-posts-grid").data("query-type")&&(t.preventDefault(),$scope.find(".pp-posts-grid .pp-post").last().after('<div class="pp-post-loader"><div class="pp-loader"></div><div class="pp-loader-overlay"></div></div>'),e=1,p=parseInt($scope.find(".pp-posts-pagination .page-numbers.current").html()),e=g(this).hasClass("next")?p+1:g(this).hasClass("prev")?p-1:g(this).html(),$scope.find(".pp-posts-grid .pp-post").last().after('<div class="pp-post-loader"><div class="pp-loader"></div><div class="pp-loader-overlay"></div></div>'),o={page_id:$scope.find(".pp-posts-grid").data("page"),widget_id:$scope.data("id"),filter:$scope.find(".pp-filter-current").data("filter"),taxonomy:$scope.find(".pp-filter-current").data("taxonomy"),skin:$scope.find(".pp-posts-grid").data("skin"),page_number:e},g("html, body").animate({scrollTop:$scope.find(".pp-posts-container").offset().top-30},"slow"),b($scope,o))});var k=function(t,p){t.find(".pp-posts-grid .pp-grid-item-wrap").last().after('<div class="pp-posts-loader-wrap"><div class="pp-loader"></div><div class="pp-loader-overlay"></div></div>');var e={page_id:t.find(".pp-posts-grid").data("page"),widget_id:t.data("id"),filter:p.data("filter"),taxonomy:p.data("taxonomy"),skin:t.find(".pp-posts-grid").data("skin"),page_number:1};b(t,e)},$=function(t,p){t.find(".pp-posts-grid .pp-grid-item-wrap").last().after('<div class="pp-posts-loader-wrap"><div class="pp-loader"></div><div class="pp-loader-overlay"></div></div>');var e={page_id:t.find(".pp-posts-grid").data("page"),widget_id:t.data("id"),search:t.find(".pp-search-form-input").val(),page_number:1};b(t,e)},b=function(i,a,n,d){var r=i.find(".pp-posts-loader");g.ajax({url:pp.ajax_url,data:{action:"pp_get_post",page_id:a.page_id,widget_id:a.widget_id,category:a.filter,search:a.search,taxonomy:a.taxonomy,skin:a.skin,page_number:a.page_number,nonce:pp_posts_script.posts_nonce},dataType:"json",type:"POST",success:function(t){var p,e=i.find(".pp-posts-grid");1==n?(p=t.data.html,e.append(p)):e.html(t.data.html),i.find(".pp-posts-pagination-wrap").html(t.data.pagination);var o=i.find(".pp-posts-grid").data("layout"),s=i.find(".pp-posts-grid");"masonry"==o&&i.imagesLoaded(function(){s.isotope("destroy"),s.isotope({layoutMode:o,itemSelector:".pp-grid-item-wrap"})}),v=!0,1==n&&(r.hide(),i.find(".pp-post-load-more").show()),_(i,a.page_number),(d+=1)==w&&i.find(".pp-post-load-more").hide()}})};g(window).on("elementor/frontend/init",function(){elementorFrontend.hooks.addAction("frontend/element_ready/pp-posts.classic",t),elementorFrontend.hooks.addAction("frontend/element_ready/pp-posts.card",t),elementorFrontend.hooks.addAction("frontend/element_ready/pp-posts.checkerboard",t),elementorFrontend.hooks.addAction("frontend/element_ready/pp-posts.creative",t),elementorFrontend.hooks.addAction("frontend/element_ready/pp-posts.event",t),elementorFrontend.hooks.addAction("frontend/element_ready/pp-posts.news",t),elementorFrontend.hooks.addAction("frontend/element_ready/pp-posts.portfolio",t),elementorFrontend.hooks.addAction("frontend/element_ready/pp-posts.overlap",t),elementorFrontend.hooks.addAction("frontend/element_ready/pp-posts.template",t)})}(jQuery);