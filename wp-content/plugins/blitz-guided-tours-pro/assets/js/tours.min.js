var _wasPageCleanedUp=!1,_wastourstepSaved=!1,bztsw_mode1=!1,bztsw_mode2=!1,flipCounter,bztsw_counter,componentBody,bztsw_selectedComponent=!1,bztsw_uname="";function pageCleanup(t){_wasPageCleanedUp||("bztsw-tour-add"==t[1]?(bztsw_save_tours_drafts(this),_wasPageCleanedUp=!0):(t[1]="bztsw-step-add")&&(bztsw_save_steps_drafts(this),_wasPageCleanedUp=!0))}function bztsw_saveSettings(e){var error=!1;if(jQuery("#bztsw_bgcolor").removeClass("field-error"),7!=jQuery("#bztsw_bgcolor").val().length&&(error=!0,jQuery("#bztsw_bgcolor").addClass("field-error")),jQuery("#bztsw_titlecolor").removeClass("field-error"),7!=jQuery("#bztsw_titlecolor").val().length&&(error=!0,jQuery("#bztsw_titlecolor").addClass("field-error")),!error){jQuery("#bztsw_response").hide();var data={action:"bztsw_settings_save"};jQuery("#form_settings input, #form_settings select, #form_settings textarea").each(function(){jQuery(this).attr("name")&&eval("data."+jQuery(this).attr("name")+" = jQuery(this).val();")}),jQuery.post(ajaxurl,data,function(t){jQuery("#bztsw_response").html('<div id="message" class="updated"><p><strong>Settings saved</strong>.</p></div>'),setTimeout(function(){document.location.href=toururl+"wp-admin/admin.php?page=bztsw_settings"},250)})}}function bztswstepCheck(){if(""==jQuery("#bztsw_pageurl").val()){var t=jQuery("#bztsw_tourID :selected").data("page");jQuery("#bztsw_pageurl").val(t)}}function bztswtypeCheck(){var t=jQuery("#bztsw_stepTy").val();"tooltip"==t?(jQuery(".only_tooltip").show(),jQuery(".only_tooltip.content").hide()):"dialog"==t?(jQuery("#bztsw_stepDlySrt").val(0),jQuery(".only_dialog").show(),jQuery(".only_tooltip").hide(),bztswbtnsCheck()):(jQuery("#bztsw_stepDlySrt").val(0),jQuery(".only_dialog").hide(),jQuery(".only_dialog.text").show(),jQuery(".only_tooltip").hide(),jQuery("#bztsw_stepCont_tooltip").parent().parent().show(),jQuery("#bztsw_item_overlay").parent().parent().hide(),jQuery("#bztsw_item_overlay").val("1"),jQuery("#bztsw_stepDly").parent().parent().show(),jQuery("#bztsw_stepAction").parent().parent().hide(),jQuery("#bztsw_stepAction").val("delay"))}function bztswbtnsCheck(){"dialog"==jQuery("#bztsw_stepTy").val()&&(jQuery("#bztsw_stepConbtn").val().length>0||jQuery("#bztsw_stepStopbtn").val().length>0)?(jQuery("#bztsw_stepAction").val("click"),jQuery("#bztsw_stepAction").parent().parent().hide(),jQuery("#bztsw_stepDly").parent().parent().hide()):"dialog"==jQuery("#bztsw_stepTy").val()&&(jQuery("#bztsw_stepAction").val("delay"),jQuery("#bztsw_stepDly").parent().parent().hide())}function bztswactionCheck(){"click"==jQuery("#bztsw_stepAction").val()&&"text"!=jQuery("#bztsw_stepTy").val()?jQuery("#bztsw_stepDly").parent().parent().hide():jQuery("#bztsw_stepDly").parent().parent().show()}function bztswoverlayCheck(){"1"==jQuery("#bztsw_item_overlay").val()?jQuery("#bztsw_item_closeHelperBtn").parent().parent().show():jQuery("#bztsw_item_closeHelperBtn").parent().parent().hide()}function bztsw_save_steps(e){var error=!1;if(jQuery("#bztsw_domComponent").prev().prev("span").css({color:"#000"}),jQuery("#bztsw_domComponent").removeClass("field-error"),jQuery("#bztsw_title").removeClass("field-error"),jQuery("#bztsw_title").val().length<3&&(error=!0,jQuery("#bztsw_title").addClass("field-error")),"tooltip"==jQuery("#bztsw_stepTy").val()&&jQuery("#bztsw_domComponent").val().length<2&&(error=!0,jQuery("#bztsw_domComponent").prev().prev("span").css({color:"red"}),jQuery("#bztsw_domComponent").addClass("field-error")),!error){jQuery(window).unbind("beforeunload"),jQuery("#bztsw_response").hide();var data={action:"bztsw_step_save"};jQuery("#bztsw_add_step input, #bztsw_add_step select, #bztsw_add_step textarea").each(function(){jQuery(this).attr("name")&&"bztsw_stepCont_tooltip"!=jQuery(this).attr("name")&&"bztsw_onDashboard"!=jQuery(this).attr("name")&&eval("data."+jQuery(this).attr("name")+" = jQuery(this).val();")});var editor=tinyMCE.get("bztsw_stepCont");data.bztsw_stepCont=editor?editor.getContent():jQuery("#bztsw_stepCont").val(),"text"==jQuery("#bztsw_stepTy").val()&&(data.bztsw_stepCont=editor.getContent()),1==jQuery("#bztsw_overrideSettings").prop("checked")?data.bztsw_overrideSettings="1":0==jQuery("#bztsw_overrideSettings").prop("checked")&&(data.bztsw_overrideSettings="0"),"tooltip"==jQuery("#bztsw_stepTy").val()&&1==jQuery("#bztsw_overrideSettings").prop("checked")?jQuery(".tooltip_typography").show():"dialog"==jQuery("#bztsw_stepTy").val()&&1==jQuery("#bztsw_overrideSettings").prop("checked")&&jQuery(".dialog_typography").show(),data.bztsw_isdraft="0",jQuery.post(ajaxurl,data,function(t){jQuery("#bztsw_response").html('<div id="bztsw_message" class="updated"><p><strong>Step saved</strong>.</p></div>'),jQuery("#bztsw_response").fadeIn(250),_wastourstepSaved=!0,document.location.href=toururl+"wp-admin/admin.php?page=bztsw-steps"})}}function bztsw_save_steps_drafts(e){var error=!1;if(jQuery("#bztsw_domComponent").prev().prev("span").css({color:"#000"}),jQuery("#bztsw_domComponent").removeClass("field-error"),jQuery("#bztsw_title").removeClass("field-error"),jQuery("#bztsw_title").val().length<3&&(error=!0,jQuery("#bztsw_title").addClass("field-error")),!error){jQuery("#bztsw_response").hide();var data={action:"bztsw_step_save"};jQuery("#bztsw_add_step input, #bztsw_add_step select, #bztsw_add_step textarea").each(function(){jQuery(this).attr("name")&&"bztsw_stepCont_tooltip"!=jQuery(this).attr("name")&&"bztsw_onDashboard"!=jQuery(this).attr("name")&&eval("data."+jQuery(this).attr("name")+" = jQuery(this).val();")});var editor=tinyMCE.get("bztsw_stepCont");data.bztsw_stepCont=editor?editor.getContent():jQuery("#bztsw_stepCont").val(),"text"==jQuery("#bztsw_stepTy").val()&&(data.bztsw_stepCont=editor.getContent()),data.bztsw_isDraft="1",jQuery.post(ajaxurl,data,function(t){jQuery("#bztsw_response").html('<div id="bztsw_message" class="updated"><p><strong>Step saved as draft.</strong>.</p></div>'),jQuery("#bztsw_response").fadeIn(250),document.location.href="#wpwrap",document.location.href=toururl+"wp-admin/admin.php?page=bztsw-steps"})}}function bztswchangeOnDashboard(){"1"==jQuery("#bztsw_onDashboard").val()?jQuery("#bztsw_add_tour #bztsw_pageurl").val(document.location.href.substr(0,document.location.href.lastIndexOf("/"))):jQuery("#bztsw_add_tour #bztsw_pageurl").val("")}function bztswstartCheck(){"click"==jQuery("#bztsw_begin").val()?(jQuery("#bztsw_domComponent").parent().parent().show(),jQuery("#bztsw_onceTime").parent().parent().hide()):(jQuery("#bztsw_domComponent").parent().parent().hide(),jQuery("#bztsw_onceTime").parent().parent().show())}function bztsw_save_tours(e){var error=!1;if(jQuery("#bztsw_title").removeClass("field-error"),jQuery("#bztsw_title").val().length<3&&(error=!0,jQuery("#bztsw_title").addClass("field-error")),!error){jQuery("form#bztsw_add_tour input.button-primary").attr("clicked",!0),jQuery(window).unbind("beforeunload"),jQuery("#bztsw_response").hide();var data={action:"bztsw_tour_save"};return jQuery("#bztsw_add_tour input, #bztsw_add_tour select").each(function(){jQuery(this).attr("name")&&eval("data."+jQuery(this).attr("name")+" = jQuery(this).val();")}),jQuery("input[name=bztsw_defaultTour]").is(":checked")?data.bztsw_defaultTour="1":data.bztsw_defaultTour="0",data.bztsw_isdraft="0",jQuery("#bztsw_id").val()>0&&eval("localStorage.removeItem("+jQuery("#bztsw_id").val()+");"),_wastourstepSaved=!0,jQuery.post(ajaxurl,data,function(t){jQuery("#bztsw_response").html('<div id="bztsw_message" class="updated"><p>Tour <strong>saved</strong>.</p></div>'),jQuery("#bztsw_response").fadeIn(250),jQuery("#bztsw_id").val(t),document.location.href=toururl+"wp-admin/admin.php?page=bztsw-tours"}),!1}}function bztsw_save_tours_drafts(e){var error=!1;if(jQuery("#bztsw_title").removeClass("field-error"),jQuery("#bztsw_title").val().length<3&&(error=!0,jQuery("#bztsw_title").addClass("field-error")),!error){jQuery("#bztsw_response").hide();var data={action:"bztsw_tour_save"};jQuery("#bztsw_add_tour input, #bztsw_add_tour select").each(function(){jQuery(this).attr("name")&&eval("data."+jQuery(this).attr("name")+" = jQuery(this).val();")}),jQuery("input[name=bztsw_defaultTour]").is(":checked")?data.bztsw_defaultTour="1":data.bztsw_defaultTour="0",jQuery("#bztsw_id").val()>0&&eval("localStorage.removeItem("+jQuery("#bztsw_id").val()+");"),data.bztsw_isDraft="1",jQuery.post(ajaxurl,data,function(t){jQuery("#bztsw_response").html('<div id="bztsw_message" class="updated"><p>Tour <strong>saved as draft</strong>.</p></div>'),jQuery("#bztsw_response").fadeIn(250),jQuery("#bztsw_id").val(t),document.location.href=toururl+"wp-admin/admin.php?page=bztsw-tours"})}}function bztsw_Iframe(){try{return window.self!==window.top}catch(t){return!0}}function bztsw_initFinaltours(t){t||(t=0),componentBody="html,body",window.parent&&window.parent.document.getElementById("bztsw_selectDomFrame")||bztsw_Iframe()&&jQuery(".estimationForm_frameSC",window.parent.document).length>0||bztsw_initTours(t),jQuery("body *").click(bztsw_stepClick),jQuery(window).resize(function(){jQuery("#bztsw_overlay").attr({width:jQuery(document).outerWidth(),height:jQuery(document).outerHeight()}).css({width:jQuery(document).outerWidth(),height:jQuery(document).outerHeight()})})}function bztsw_stepClick(t,e){var o;bztsw_mode1&&(e?o=t:(o=this,t.preventDefault()),jQuery(o).is("option")||(0==jQuery(o).children().length||jQuery(o).is("img")||jQuery(o).is("a")||jQuery(o).is("button")||jQuery(o).is("select")||jQuery(o).is("iframe")||jQuery(o).is(".mce-tinymce"))&&(bztsw_selectedComponent=!0,jQuery(o).is("a")&&jQuery(o).find("img").length>0?(jQuery(o).find("img").addClass("bztsw_selectedComponent"),jQuery(".bztsw_selectedComponent").not(jQuery(o).find("img")).removeClass("bztsw_selectedComponent"),window.parent.bztsw_stepSelected(jQuery(o).find("img").get(0))):(jQuery(o).addClass("bztsw_selectedComponent"),jQuery(".bztsw_selectedComponent").not(jQuery(o)).removeClass("bztsw_selectedComponent"),window.parent.bztsw_stepSelected(o))))}function bztsw_ifSomeParent(t,e){if(!e)e=!1;t.closest(".x-sidebar").length>0&&(e=!0);try{t.parent().length>0&&"fixed"==t.parent().css("position")&&(e=!0)}catch(t){}return!e&&t.parent().length>0&&(e=bztsw_ifSomeParent(t.parent(),e)),e}function bztsw_initTours(helperID){helperID||(helperID=0);var newHelperID=tours.map(function(t){return t.bztsw_id}).indexOf(helperID);if(newHelperID>=0){var chkHelper=!1,chkHelperExist=!1;if(localStorage.getItem("helper")){var helper=tours[newHelperID],url=document.location.href;url.indexOf("#")>0&&(url=document.location.href.substr(0,document.location.href.lastIndexOf("#"))),"/"!=toururl.substr(toururl.length-1,1)&&(toururl+="/"),""==bztsw_uname&&(url=url.replace("USERNAME",bztsw_uname)),parseInt(helper.bztsw_id)!=parseInt(localStorage.getItem("helper"))||!helper.items[parseInt(localStorage.getItem("itemIndex"))]||""!=helper.items[parseInt(localStorage.getItem("itemIndex"))].bztsw_pageurl&&toururl+helper.items[parseInt(localStorage.getItem("itemIndex"))].bztsw_pageurl!=url||(chkHelperExist=helper)}chkHelperExist&&(chkHelper=!0,bztsw_beginItem(chkHelperExist,parseInt(localStorage.getItem("itemIndex"))));var helper=tours[newHelperID],url=document.location.href;url.indexOf("#")>0&&(url=document.location.href.substr(0,document.location.href.lastIndexOf("#"))),url.indexOf("/index.php")>0&&(url=url.substr(0,url.lastIndexOf("/"))),helper.bztsw_pageurl.indexOf("index.php")>0&&(helper.bztsw_pageurl=helper.bztsw_pageurl.substr(0,helper.bztsw_pageurl.lastIndexOf("/"))),helper.bztsw_pageurl.indexOf("/wp-admin")>0?helper.bztsw_pageurl=helper.bztsw_pageurl:helper.bztsw_pageurl=toururl+helper.bztsw_pageurl,""==bztsw_uname&&(helper.bztsw_pageurl=helper.bztsw_pageurl.replace("USERNAME",bztsw_uname)),helper.bztsw_pageurl!=toururl&&helper.bztsw_pageurl!=url&&helper.bztsw_pageurl+"/"!=url&&helper.bztsw_pageurl!=url+"/"||1==helper.bztsw_onDashboard&&document.location.href.indexOf("wp-admin")<0||0==helper.bztsw_onDashboard&&document.location.href.indexOf("wp-admin")>0||("auto"!=helper.bztsw_begin||chkHelperExist?jQuery(helper.bztsw_domComponent).length>0&&(jQuery(helper.bztsw_domComponent).attr("data-helper",helper.bztsw_id),jQuery(helper.bztsw_domComponent).click(function(t){t.preventDefault(),bztsw_beginTour(bztsw_getTourByID(jQuery(this).attr("data-helper")))})):helper.items.length>0&&(1==helper.bztsw_onceTime?eval("if(!localStorage.getItem('once"+helper.bztsw_id+"')){ localStorage.setItem('once"+helper.bztsw_id+"','1');chkHelper = true;bztsw_beginTour(helper); }"):(chkHelper=!0,bztsw_beginTour(helper)))),chkHelper||(localStorage.removeItem("helper"),localStorage.removeItem("itemIndex"))}}function bztsw_getTourByID(t){var e=!1;return jQuery.each(tours,function(o){var s=tours[o];s.bztsw_id==t&&(e=s)}),e}function bztsw_beginTour(t){localStorage.setItem("helper",t.bztsw_id),localStorage.setItem("itemIndex",0),bztsw_beginItem(t,0)}function bztsw_buildOverlay(t,e){jQuery("body").append('<canvas id="bztsw_overlay"></canvas>'),jQuery("#bztsw_overlay").attr({width:jQuery(document).outerWidth(),height:jQuery(document).outerHeight()}).css({width:jQuery(document).outerWidth(),height:jQuery(document).outerHeight()});var o=jQuery('<a href="javascript:" id="bztsw_closeHelperBtn">Close</a>');o.click(function(){console.log("clicked");var t=bztsw_getTourByID(localStorage.getItem("helper"));bztsw_stopTour(jQuery(".bztsw_item"),t)}),o.hide(),jQuery("body").append(o)}function bztsw_ifCanvas(){var t=document.createElement("canvas");return!(!t.getContext||!t.getContext("2d"))}function bztsw_buttonClassName(t){var e;return"small"==t?e="small_btn":"medium"==t?e="medium_btn":"large"==t&&(e="large_btn"),e}jQuery.noConflict(),jQuery(document).ready(function(){jQuery("#bztsw_onDashboard").change(bztswchangeOnDashboard),jQuery("#bztsw_begin").change(bztswstartCheck),bztswstartCheck(),jQuery("#bztsw_stepTy").change(bztswtypeCheck),bztswtypeCheck(),jQuery("#bztsw_stepAction").change(bztswactionCheck),bztswactionCheck(),jQuery("#bztsw_item_overlay").change(bztswoverlayCheck),bztswoverlayCheck(),jQuery("#bztsw_tourID").change(bztswstepCheck),bztswstepCheck(),jQuery("#bztsw_stepConbtn").keyup(bztswbtnsCheck),jQuery("#bztsw_stepStopbtn").keyup(bztswbtnsCheck),jQuery(".bzstarttour").click(function(t){t.preventDefault(),bztsw_initFinaltours()}),jQuery("td.view.column-view a").click(function(t){t.preventDefault();var e=jQuery(this).attr("data-id");"click"==bztsw_getTourByID(e).bztsw_begin?(tourblogid,bztsw_beginTour(bztsw_getTourByID(e))):bztsw_initFinaltours(e)}),jQuery("body *").click(bztsw_stepClick);var t=window.location.href;if((t.indexOf("bztsw-step-add")>0&&t.indexOf("step=")<0||t.indexOf("bztsw-tour-add")>0&&t.indexOf("tour=")<0)&&!_wastourstepSaved&&!jQuery("form#bztsw_add_tour input.button-primary").attr("clicked")){var e=t.split("page=");jQuery(window).bind("beforeunload",function(){pageCleanup(e)})}jQuery.each(tours,function(t){var e=tours[t];"click"==e.bztsw_begin&&jQuery(e.bztsw_domComponent).length>0&&(jQuery(e.bztsw_domComponent).attr("data-helper",e.bztsw_id),jQuery(e.bztsw_domComponent).click(function(t){t.preventDefault(),bztsw_beginTour(bztsw_getTourByID(jQuery(this).attr("data-helper")))}))}),1==jQuery("#bztsw_add_step #bztsw_overrideSettings").val()&&(console.log("sdfsd"),"tooltip"==jQuery("#bztsw_stepTy").val()?jQuery(".tooltip_typography").show():jQuery(".dialog_typography").show()),jQuery("#bztsw_add_step #bztsw_overrideSettings").click(function(){jQuery(this).is(":checked")?"tooltip"==jQuery("#bztsw_stepTy").val()?jQuery(".tooltip_typography").show():jQuery(".dialog_typography").show():"tooltip"==jQuery("#bztsw_stepTy").val()?jQuery(".tooltip_typography").hide():jQuery(".dialog_typography").hide()})}),jQuery(window).load(function(){bztsw_initFinaltours(localStorage.getItem("helper"))});var bztsw_initialOverflow="auto";function bztsw_beginItem(t,e){if("1"!=t.bztsw_isActive){var o=t.items[e];console.log("itemurl:"+o.bztsw_pageurl),console.log("toururl:"+t.bztsw_pageurl);var s=!1;if(localStorage.setItem("itemIndex",e),""!=o.bztsw_pageurl&&toururl+o.bztsw_pageurl!=document.location.href&&toururl+o.bztsw_pageurl!=document.location.href+"/"&&toururl+o.bztsw_pageurl+"/"!=document.location.href&&toururl+o.bztsw_pageurl+"#"!=document.location.href){var r=!1,n=document.location.href;n.indexOf("#")>-1&&(n=(n=n.substr(0,n.length-n.indexOf("#"))).replace("#",""));var i=o.bztsw_pageurl;o.bztsw_pageurl.indexOf("#")>-1&&(i=(i=o.bztsw_pageurl.substr(0,o.bztsw_pageurl.indexOf("#"))).replace("#","")),toururl+i==n&&(r=!0,document.location.href=toururl+o.bztsw_pageurl,setTimeout(function(){bztsw_startItem(t,e)},1e3)),r||(document.location.href=toururl+o.bztsw_pageurl)}else if(bztsw_initialOverflow=jQuery("body").css("overflowY"),jQuery("body").css({overflowY:"hidden"}),"tooltip"==o.bztsw_stepTy&&""!=o.bztsw_domComponent&&0==jQuery(o.bztsw_domComponent).length)bztsw_nextStep(s,t,e);else{if(jQuery("#bztsw_overlay,#bztsw_closeHelperBtn").fadeOut(1e3),0==jQuery("#bztsw_overlay").length&&setTimeout(function(){bztsw_buildOverlay()},1e3*o.bztsw_stepDlySrt),1==o.bztsw_item_overlay&&1==o.bztsw_item_closeHelperBtn&&setTimeout(function(){jQuery("#bztsw_closeHelperBtn").delay(400).fadeIn(1e3)},1e3*o.bztsw_stepDlySrt),setTimeout(function(){if(bztsw_ifCanvas()){var t=jQuery("#bztsw_overlay").get(0).getContext("2d");t.clearRect(0,0,jQuery("#bztsw_overlay").width(),jQuery("#bztsw_overlay").height()),t.globalCompositeOperation="source-over","tooltip"==o.bztsw_stepTy&&""!=o.bztsw_domComponent&&jQuery(o.bztsw_domComponent).length>0?(t.fillStyle="#FFFFFF",t.globalCompositeOperation="source-over",bztsw_ifSomeParent(jQuery(o.bztsw_domComponent))||"fixed"==jQuery(o.bztsw_domComponent).css("position")?t.fillRect(jQuery(o.bztsw_domComponent).offset().left-5,jQuery(o.bztsw_domComponent).offset().top-5-jQuery(o.bztsw_domComponent).scrollTop(),jQuery(o.bztsw_domComponent).outerWidth()+10,jQuery(o.bztsw_domComponent).outerHeight()+10):t.fillRect(jQuery(o.bztsw_domComponent).offset().left-5,jQuery(o.bztsw_domComponent).offset().top-5,jQuery(o.bztsw_domComponent).outerWidth()+10,jQuery(o.bztsw_domComponent).outerHeight()+10),t.globalCompositeOperation="source-out"):jQuery("#bztsw_overlay").css({backgroundColor:"#000000",display:"inline"}),t.fillStyle="#000000",t.fillRect(0,0,jQuery("#bztsw_overlay").width(),jQuery("#bztsw_overlay").height()),jQuery(window).resize(function(){"tooltip"==o.bztsw_stepTy&&""!=o.bztsw_domComponent&&jQuery(o.bztsw_domComponent).length>0&&(t.fillStyle="#FFFFFF",t.globalCompositeOperation="source-over",bztsw_ifSomeParent(jQuery(o.bztsw_domComponent))||"fixed"==jQuery(o.bztsw_domComponent).css("position")?t.fillRect(jQuery(o.bztsw_domComponent).offset().left-5,jQuery(o.bztsw_domComponent).offset().top-5-jQuery(o.bztsw_domComponent).scrollTop(),jQuery(o.bztsw_domComponent).outerWidth()+10,jQuery(o.bztsw_domComponent).outerHeight()+10):t.fillRect(jQuery(o.bztsw_domComponent).offset().left-5,jQuery(o.bztsw_domComponent).offset().top-5,jQuery(o.bztsw_domComponent).outerWidth()+10,jQuery(o.bztsw_domComponent).outerHeight()+10),t.globalCompositeOperation="source-out",t.fillStyle="#000000",t.fillRect(0,0,jQuery("#bztsw_overlay").width(),jQuery("#bztsw_overlay").height()))})}},1e3*o.bztsw_stepDlySrt),jQuery("html,body").css({overflowY:bztsw_initialOverflow}),"tooltip"==o.bztsw_stepTy&&""!=o.bztsw_domComponent&&jQuery(o.bztsw_domComponent).length>0?(1==o.bztsw_item_overlay&&setTimeout(function(){jQuery("#bztsw_overlay").fadeIn(1e3)},1e3*o.bztsw_stepDlySrt),bztsw_ifSomeParent(jQuery(o.bztsw_domComponent))||"fixed"==jQuery(o.bztsw_domComponent).css("position")?(jQuery(componentBody).animate({scrollTop:0},500),jQuery("html,body").css({overflowY:"hidden"})):jQuery(componentBody).animate({scrollTop:jQuery(o.bztsw_domComponent).offset().top-200},500),$container=jQuery('<div class="bztsw_container">&nbsp;</div>'),jQuery(window).resize(function(){$container.css({position:"absolute",zIndex:999999,left:jQuery(o.bztsw_domComponent).offset().left,top:jQuery(o.bztsw_domComponent).offset().top,width:jQuery(o.bztsw_domComponent).outerWidth(),height:jQuery(o.bztsw_domComponent).outerHeight()})}),setTimeout(function(){$container.css({position:"absolute",backgroundColor:"transparent",zIndex:999999,left:jQuery(o.bztsw_domComponent).offset().left,top:jQuery(o.bztsw_domComponent).offset().top,width:jQuery(o.bztsw_domComponent).outerWidth(),height:jQuery(o.bztsw_domComponent).outerHeight()})},1e3*o.bztsw_stepDlySrt),"click"==o.bztsw_stepAction&&($container.css({cursor:"pointer"}),$container.click(function(){jQuery(o.bztsw_domComponent).trigger("click-bztsw")})),jQuery("body").append($container)):1==o.bztsw_overlay&&setTimeout(function(){jQuery("#bztsw_overlay").fadeIn(1e3)},1e3*o.bztsw_stepDlySrt),console.log("itemID::"+o.bztsw_id),"tooltip"==o.bztsw_stepTy){if(1==o.bztsw_overrideSettings)var a=o.bztsw_tooltip_btnTSize,l=o.bztsw_tooltip_stop_btnTSize,u=bztsw_buttonClassName(a),p=bztsw_buttonClassName(l);else a=globaltoursettings[0].bztsw_btnTSize,l=globaltoursettings[0].bztsw_stop_btnTSize,u=bztsw_buttonClassName(a),p=bztsw_buttonClassName(l);if(s=jQuery('<div class="bztsw_tooltip" data-position="'+o.bztsw_tooltipPos+'"></div>'),outerClass=s.addClass("tourBox_"+o.bztsw_id),$itemContainer=jQuery('<div class="bztsw_tooltip_container"><div class="bztsw_tooltip_text"><h3>'+o.bztsw_title+"</h3></div></div>"),s.append($itemContainer),o.bztsw_stepCont=o.bztsw_stepCont.replace("\n","<br/>"),$itemContainer.append('<div class="bztsw_content">'+o.bztsw_stepCont+"</div>"),s.prepend('<div class="bztsw_arrow"></div>'),""!=o.bztsw_stepConbtn&&($btn=jQuery('<a href="javascript:"  class="bztsw_button bztsw_continue '+u+'">'+o.bztsw_stepConbtn+"</a>"),$btn.click(function(){bztsw_nextStep(s,t,e)}),s.append('<div class="bztsw_btns" style="text-align:center;"></div>'),s.children(".bztsw_btns").append($btn)),""!=o.bztsw_stepStopbtn&&($btnS=jQuery('<a href="javascript:"  class="bztsw_button bztsw_button_stop '+p+'">'+o.bztsw_stepStopbtn+"</a>"),$btnS.click(function(){bztsw_stopTour(s,t)}),s.children(".bztsw_btns").append($btnS)),s.children(".bztsw_btns").append('<div class="clear"></div>'),""!=o.bztsw_item_closeHelperBtn&&"1"==o.bztsw_item_closeHelperBtn)(b=jQuery('<a href="javascript:" id="bztsw_closeHelperBtn">Close</a>')).click(function(){var t=bztsw_getTourByID(localStorage.getItem("helper"));bztsw_stopTour(jQuery(".bztsw_item"),t)}),b.hide(),s.children(".bztsw_btns").append(b);if(o.bztsw_domComponent&&jQuery(o.bztsw_domComponent).length>0)if(jQuery(window).resize(function(){jQuery(o.bztsw_domComponent).length>0&&s.css({left:jQuery(o.bztsw_domComponent).offset().left,top:jQuery(o.bztsw_domComponent).offset().top})}),s.css({left:jQuery(o.bztsw_domComponent).offset().left,top:jQuery(o.bztsw_domComponent).offset().top}),jQuery("body").append(s),"top"==o.bztsw_tooltipPos)jQuery(window).resize(function(){var t=parseInt(s.css("left"))+jQuery(o.bztsw_domComponent).outerWidth()/2-s.width()/2;t<0&&(t=0),t+s.outerWidth()>jQuery(window).width()&&(t=0),s.css({top:parseInt(s.css("top"))-(s.height()+20),left:t})}),(d=parseInt(s.css("left"))+jQuery(o.bztsw_domComponent).outerWidth()/2-s.width()/2)<0&&(d=0),d+s.outerWidth()>jQuery(window).width()&&(d=0),setTimeout(function(){floatTooltip(s)},1e3*o.bztsw_stepDlySrt),setTimeout(function(){s.css({left:jQuery(o.bztsw_domComponent).offset().left,top:jQuery(o.bztsw_domComponent).offset().top}),s.css({top:parseInt(s.css("top"))-(s.height()+20),left:d}),s.fadeIn(500)},1e3*o.bztsw_stepDlySrt);else if("bottom"==o.bztsw_tooltipPos){jQuery(window).resize(function(){var t=parseInt(s.css("left"))+jQuery(o.bztsw_domComponent).outerWidth()/2-s.width()/2;t<0&&(t=0),t+s.outerWidth()>jQuery(window).width()&&(t=0),s.css({top:parseInt(s.css("top"))+jQuery(o.bztsw_domComponent).outerHeight()+20,left:t})}),(d=parseInt(s.css("left"))+jQuery(o.bztsw_domComponent).outerWidth()/2-s.width()/2)<0&&(d=0),d+s.outerWidth()>jQuery(window).width()&&(d=0),setTimeout(function(){floatTooltip(s)},1e3*o.bztsw_stepDlySrt),setTimeout(function(){s.css({left:jQuery(o.bztsw_domComponent).offset().left,top:jQuery(o.bztsw_domComponent).offset().top}),s.css({top:parseInt(s.css("top"))+jQuery(o.bztsw_domComponent).outerHeight()+20,left:d}),s.fadeIn(500)},1e3*o.bztsw_stepDlySrt)}else if("right"==o.bztsw_tooltipPos){jQuery(window).resize(function(){var t=parseInt(s.css("left"))+jQuery(o.bztsw_domComponent).outerWidth()/2-s.width()/2;t<0&&(t=0),t+s.outerWidth()>jQuery(window).width()&&(t=0),s.css({top:parseInt(s.css("top"))+jQuery(o.bztsw_domComponent).outerHeight(),left:t})}),(d=parseInt(s.css("left"))+jQuery(o.bztsw_domComponent).outerWidth()/2-s.width()/2)<0&&(d=0),d+s.outerWidth()>jQuery(window).width()&&(d=0),setTimeout(function(){floatTooltip(s)},1e3*o.bztsw_stepDlySrt),console.log("sadss::"+jQuery(o.bztsw_domComponent).outerHeight()),setTimeout(function(){s.css({top:jQuery(o.bztsw_domComponent).offset().top,left:jQuery(o.bztsw_domComponent).offset().left+jQuery(o.bztsw_domComponent).outerWidth()+20}),s.fadeIn(500)},1e3*o.bztsw_stepDlySrt)}else if("left"==o.bztsw_tooltipPos){var d;jQuery(window).resize(function(){var t=parseInt(s.css("left"))+jQuery(o.bztsw_domComponent).outerWidth()/2-s.width()/2;t<0&&(t=0),t+s.outerWidth()>jQuery(window).width()&&(t=0),s.css({top:parseInt(s.css("top"))+jQuery(o.bztsw_domComponent).outerHeight(),left:t})}),(d=parseInt(s.css("left"))+jQuery(o.bztsw_domComponent).outerWidth()/2-s.width()/2)<0&&(d=0),d+s.outerWidth()>jQuery(window).width()&&(d=0),setTimeout(function(){floatTooltip(s)},1e3*o.bztsw_stepDlySrt),jQuery(".bztsw_tooltip[data-position=left] .bztsw_arrow").css({left:jQuery(o.bztsw_domComponent).offset().left+10}),console.log("leftofset::"+jQuery(o.bztsw_domComponent).offset().left),console.log("leftofsetwidth::"+jQuery(o.bztsw_domComponent).outerWidth()),setTimeout(function(){s.css({top:parseInt(s.css("top")),left:-jQuery(o.bztsw_domComponent).outerWidth()/2+(jQuery(o.bztsw_domComponent).offset().left-jQuery(o.bztsw_domComponent).outerWidth())}),s.fadeIn(500)},1e3*o.bztsw_stepDlySrt)}}else if("dialog"==o.bztsw_stepTy){if(1==o.bztsw_overrideSettings)a=o.bztsw_dialog_btnTSize,l=o.bztsw_dialog_stop_btnTSize,u=bztsw_buttonClassName(a),p=bztsw_buttonClassName(l);else a=globaltoursettings[0].bztsw_dia_btnTSize,l=globaltoursettings[0].bztsw_dia_stop_btnTSize,u=bztsw_buttonClassName(a),p=bztsw_buttonClassName(l);if(s=jQuery('<div class="bztsw_dialog"></div>'),outerClass=s.addClass("tourBox_"+o.bztsw_id),$close=jQuery('<a href="javascript:" class="bztsw_close fui-cross"></a>'),$close.click(function(){bztsw_stopTour(s,t)}),s.prepend($close),s.append("<h3>"+o.bztsw_title+"</h3>"),s.append('<div class="bztsw_content">'+o.bztsw_stepCont+"</div>"),$btn=jQuery('<a href="javascript:"  class="bztsw_button bztsw_continue '+u+'">'+o.bztsw_stepConbtn+"</a>"),$btn.click(function(){bztsw_nextStep(s,t,e)}),s.append('<div class="bztsw_btns" style="text-align:center;"></div>'),s.children(".bztsw_btns").append($btn),""!=o.bztsw_stepStopbtn&&($btnS=jQuery('<a href="javascript:"  class="bztsw_button bztsw_button_stop '+p+'">'+o.bztsw_stepStopbtn+"</a>"),$btnS.click(function(){bztsw_stopTour(s,t)}),s.children(".bztsw_btns").append($btnS)),s.children(".bztsw_btns").append('<div class="clear"></div>'),""!=o.bztsw_item_closeHelperBtn&&"1"==o.bztsw_item_closeHelperBtn)(b=jQuery('<a href="javascript:" id="bztsw_closeHelperBtn">Close</a>')).click(function(){var t=bztsw_getTourByID(localStorage.getItem("helper"));bztsw_stopTour(jQuery(".bztsw_item"),t)}),b.hide(),s.children(".bztsw_btns").append(b);jQuery("body").append(s),s.css({opacity:0}),s.show(),jQuery(window).resize(function(){s.css({marginLeft:0-s.outerWidth()/2,marginTop:0-s.outerHeight()/2})}),s.css({left:"50%",top:-500,opacity:0,marginLeft:0-s.outerWidth()/2,marginTop:0-s.outerHeight()/2}),s.animate({top:"50%",opacity:1},500)}else if("text"==o.bztsw_stepTy){var b;if((s=jQuery('<div class="bztsw_text"></div>')).addClass("tourBox_"+o.bztsw_id),$title=jQuery("<h2>"+o.bztsw_title+"</h2>"),$content=jQuery("<div>"+o.bztsw_stepCont+"</div>"),s.append($title),s.append($content),s.append('<div class="clear"></div>'),""!=o.bztsw_item_closeHelperBtn&&"1"==o.bztsw_item_closeHelperBtn)(b=jQuery('<a href="javascript:" id="bztsw_closeHelperBtn">Close</a>')).click(function(){var t=bztsw_getTourByID(localStorage.getItem("helper"));bztsw_stopTour(jQuery(".bztsw_item"),t)}),b.hide(),s.append(b);jQuery("body").append(s),s.css({marginTop:0-s.height()/2}),s.hide(),s.fadeIn(500),$title.hide().delay(1e3).fadeIn(1e3),$content.hide().delay(2e3).fadeIn(1e3),setTimeout(function(){jQuery("#bztsw_overlay").animate({opacity:.9},1e3)},1e3)}s.addClass("bztsw_item"),"click"==o.bztsw_stepAction?(jQuery(o.bztsw_domComponent).unbind("click-bztsw"),jQuery(o.bztsw_domComponent).bind("click-bztsw",function(){bztsw_nextStep(s,t,e),jQuery(o.bztsw_domComponent).unbind("click-bztsw")}),jQuery(o.bztsw_domComponent).click(function(){jQuery(this).trigger("click-bztsw")})):bztsw_counter=setTimeout(function(){bztsw_nextStep(s,t,e)},1e3*o.bztsw_stepDly+1e3*o.bztsw_stepDlySrt)}}}function floatTooltip(t){t.length>0?t.is('[data-position="bottom"]')?setTimeout(function(){t.animate({top:t.position().top+20},200,function(){t.animate({top:t.position().top-20},200,function(){t.animate({top:t.position().top+20},200,function(){t.animate({top:t.position().top-20},200,function(){t.animate({top:t.position().top+20},200,function(){t.animate({top:t.position().top-20},200),flipCounter=setTimeout(function(){floatTooltip(t)},3e3)})})})})})}):t.is('[data-position="right"]')?setTimeout(function(){t.animate({top:t.position().top},200,function(){t.animate({top:t.position().top},200,function(){t.animate({top:t.position().top},200,function(){t.animate({top:t.position().top},200,function(){t.animate({top:t.position().top},200,function(){t.animate({top:t.position().top},200),flipCounter=setTimeout(function(){floatTooltip(t)},3e3)})})})})})}):t.is('[data-position="left"]')?setTimeout(function(){t.animate({top:t.position().top},200,function(){t.animate({top:t.position().top},200,function(){t.animate({top:t.position().top},200,function(){t.animate({top:t.position().top},200,function(){t.animate({top:t.position().top},200,function(){t.animate({top:t.position().top},200),flipCounter=setTimeout(function(){floatTooltip(t)},3e3)})})})})})}):t.is('[data-position="top"]')&&setTimeout(function(){t.animate({top:t.position().top-20},200,function(){t.animate({top:t.position().top+20},200,function(){t.animate({top:t.position().top-20},200,function(){t.animate({top:t.position().top+20},200,function(){t.animate({top:t.position().top-20},200,function(){t.animate({top:t.position().top+20},200),flipCounter=setTimeout(function(){floatTooltip(t)},3e3)})})})})})}):clearTimer(flipCounter)}function bztsw_buildModeofSelection(t){bztsw_mode1=t,t&&(bztsw_selectedComponent=!1)}function bztsw_nextStep(t,e,o){t&&(bztsw_counter&&clearTimeout(bztsw_counter),t.is(".bztsw_dialog")?t.animate({top:-500,opacity:0},800):t.fadeOut(1e3),setTimeout(function(){t.remove()},1500)),jQuery("#bztsw_closeHelperBtn").fadeOut(500),jQuery("#bztsw_overlay").delay(200).fadeOut(700),setTimeout(function(){jQuery("html,body").css({overflowY:bztsw_initialOverflow}),jQuery(".bztsw_container").remove(),jQuery("#bztsw_overlay,#bztsw_closeHelperBtn").remove()},750);var s=o+1;e.items[s]?(localStorage.setItem("itemIndex",s),setTimeout(function(){bztsw_beginItem(e,s)},800)):(localStorage.removeItem("helper"),localStorage.removeItem("itemIndex"))}function bztsw_stopTour(t,e){localStorage.removeItem("helper"),localStorage.removeItem("itemIndex"),bztsw_counter&&clearTimeout(bztsw_counter),t.is(".bztsw_dialog")?t.animate({top:-500,opacity:0},500):t.fadeOut(500),setTimeout(function(){t.remove(),jQuery("html,body").css({overflowY:bztsw_initialOverflow})},1500),jQuery("#bztsw_closeHelperBtn").fadeOut(500),jQuery("#bztsw_overlay").fadeOut(1e3),setTimeout(function(){jQuery(".bztsw_container").remove(),jQuery("#bztsw_overlay,#bztsw_closeHelperBtn").remove(),localStorage.removeItem("helper"),localStorage.removeItem("itemIndex")},1100)}
